@model KalustoLuetteloSovellus.Models.Tuote

@{
    var statusNimi = ViewBag.status; // tää tulee myöhemmin tohon status palloon, pitää lisätä controllerissa statuksen haku viimeisimmästä tapahtumasta t:Niklas
}
<div class="carousel-item col-md-4 mb-6" style="border:2px solid gray;border-radius:8px; padding:16px;margin:16px">
    <div>
        <div class="d-flex flex-column">
            <div class="d-flex row">
                <div class="d-flex flex-nowrap">
                    <h1 style="white-space:nowrap;overflow:hidden;text-overflow:ellipsis;width:100%">
                        @Html.DisplayFor(model => model.Kuvaus)
                    </h1>
                    <div class="d-flex">
                        <strong>
                            @* @Model.Status?.StatusNimi *@
                        </strong>
                    </div>
                    <div class="d-flex ms-2">
                        @{
                            // var color = Model.Status?.StatusNimi == "Vapaa" ? "chartreuse" : Model.Status?.StatusNimi == "Huollossa" ? "yellow" : "red";
                        }
                        @* <div style="height:24px;width:24px;background-color:@color;border-radius:256px;border:2px solid gray"></div> *@
                    </div>
                </div>
                <hr />
            </div>
            <div class="d-flex flex-row gap-4">
                <div class="d-flex flex-column">
                    <dl>
                        <dt class="col-sm-2">
                            @Html.DisplayNameFor(model => model.IdNumero)
                        </dt>
                        <dd class="col-sm-10">
                            @Html.DisplayFor(model => model.IdNumero)
                        </dd>
                        @if(true)
                        {
                        @* <dt class="col-sm-2"> *@
                        @*     @Html.DisplayNameFor(model => model.OstoPvm) *@
                        @* </dt> *@
                        @* <dd class="col-sm-10"> *@
                        @*     @Html.DisplayFor(model => model.OstoPvm) *@
                        @* </dd> *@
                        @* <dt class="col-sm-2"> *@
                        @*     @Html.DisplayNameFor(model => model.Hinta) *@
                        @* </dt> *@
                        @* <dd class="col-sm-10"> *@
                        @*     @Html.DisplayFor(model => model.Hinta) *@
                        @* </dd> *@
                        @* <dt class="col-sm-2"> *@
                        @*     @Html.DisplayNameFor(model => model.Takuu) *@
                        @* </dt> *@
                        @* <dd class="col-sm-10"> *@
                        @*     @Html.DisplayFor(model => model.Takuu) *@
                        @* </dd> *@
                        @* <dt class="col-sm-2"> *@
                        @*     @Html.DisplayNameFor(model => model.Aktiivinen) *@
                        @* </dt> *@
                        @* <dd class="col-sm-10"> *@
                        @*     @Html.DisplayFor(model => model.Aktiivinen) *@
                        @* </dd> *@
                        }

                        <dt class="col-sm-2">
                            @Html.DisplayNameFor(model => model.Kategoria)
                        </dt>
                        <dd class="col-sm-10">
                            @Html.DisplayFor(model => model.Kategoria.KategoriaNimi)
                        </dd>
                        @* <dt class="col-sm-2"> *@
                        @*     @Html.DisplayNameFor(model => model.Status) *@
                        @* </dt> *@
                        @* <dd class="col-sm-10"> *@
                        @*     @Html.DisplayFor(model => model.Status.StatusNimi) *@
                        @* </dd> *@
                        <dt class="col-sm-2">
                            @Html.DisplayNameFor(model => model.Toimipiste)
                        </dt>
                        <dd class="col-sm-10">
                            @Html.DisplayFor(model => model.Toimipiste.KaupunkiJaToimipisteNimi)
                        </dd>
                    </dl>
                </div>
                <div class="d-flex flex-row">
                    <dl>
                        <dd class="col-sm-10">
                            <div class="d-flex" style="border:2px solid gray;border-radius:16px; padding:2px;margin:16px;width:100%">
                                @if (Model.Kuva != null && Model.Kuva.Length > 0)
                                {
                                <img class="" style="width:100%;height:256px;object-fit:cover;border-radius:16px" src="data:image/jpeg;base64,@Convert.ToBase64String(Model.Kuva)" alt="Tuote kuva" />
                                }
                                else
                                {
                                <div style="width: 256px;height: 256px; background-color: lightgray; border-radius: 16px;"></div>
                                }
                            </div>
                        </dd>
                    </dl>
                </div>
            </div>
        </div>

    </div>
    <hr />
    <div>
        <a class="btn btn-main" asp-controller="Tuotteet" asp-action="Edit" asp-route-id="@Model?.TuoteId"><i class="fas fa-edit"></i></a>
        <a class="btn btn-main" asp-controller="Tuotteet" asp-action="Details" asp-route-id="@Model?.TuoteId"><i class="fas fa-search"></i></a>
        <a class="btn btn-main" asp-controller="Tapahtumat" asp-action="Create" asp-route-tuoteId="@Model?.TuoteId"><i class="fas fa-calendar-check"></i></a>
    </div>
</div>