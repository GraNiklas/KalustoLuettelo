@model KalustoLuetteloSovellus.Models.Tuote

@{
    var kuvaKokoW = 250;
    var kuvaKokoH = 250;

    string imageSrc;
    if (Model.Kuva != null && Model.Kuva.Length > 0)
    {
        imageSrc = $"data:image/jpeg;base64,{Convert.ToBase64String(Model.Kuva)}";
    }
    else
    {
        imageSrc = Url.Content("~/Images/OletusKuva.png");
    }
}
<a style="color:var(--text-color)" asp-controller="Tuotteet" asp-action="Details" asp-route-id="@Model.TuoteId">

<div class="carousel-item carousel-item-small col-md-4 mb-6" style="display: flex; flex-direction: column; height: @(kuvaKokoH + 100)px; width: @(kuvaKokoW)px;">

    <!-- Image Section -->
    <div style="flex-shrink: 0; height: @(kuvaKokoH)px; position: relative; overflow: hidden; border-radius: 0px;">
        <img src="@imageSrc"
             alt="Tuote kuva"
             style="width: 100%; height: 100%; object-fit: cover;" />
        <!-- Gradient Overlay -->
        <div style="position: absolute; bottom: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, transparent 0%,transparent 50%, white 100%);"></div>
    </div>

    <!-- Product Details Section -->
    <div class="d-flex flex-column p-2" style="flex-grow: 1; display: flex; flex-direction: column; justify-content: flex-end; height: 100%; overflow: hidden;">
        <div class="d-flex">
            <h1 style="white-space: nowrap; overflow: hidden; text-overflow: ellipsis; width: 100%; font-size: 1.2rem;">
                @Html.DisplayFor(model => model.Kuvaus)
            </h1>
            <hr />
        </div>
        <div class="d-flex flex-column">
            <div class="d-flex flex-column">
                @Html.DisplayFor(model => model.IdNumero)
            </div>
        </div>
        <div class="d-flex ms-auto">@await Html.PartialAsync("_StatusPartial", Model.Status)</div>
    </div>

</div>

</a>